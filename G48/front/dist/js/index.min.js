function UpdateData(){this.maskWrapper=jQuery(".mask-wrapper")}function QueryBtn(){this.queryBtn=jQuery("#btn-search")}UpdateData.prototype.showEvent=function(){this.maskWrapper.show()},UpdateData.prototype.hideEvent=function(){},UpdateData.prototype.onopen=function(){var e={type:"svnUpdate",name:jQuery("#project-name").val().trim(),host:jQuery("#svn-host").val().trim(),username:jQuery("#git-username").val().trim(),password:jQuery("#git-password").val().trim(),localRoad:jQuery("#svn-save").val().trim()},t=JSON.stringify(e);window.socket.send(t),jQuery("#myModal").modal("hide"),jQuery("#modal_info").show()},UpdateData.prototype.onmessage=function(e){if("string"==typeof e.data)if(isNaN(Number(e.data))){var t=JSON.parse(e.data);if("type"in t){var o=t.type;if("not_found"===o&&(console.log("not_found"),jQuery("#not-found").show()),"badFiles"===o){jQuery("#show_error_info").show();for(var n=jQuery("#show_error_files"),s=t.badFiles,r=0;r<s.length;++r)n.append("<li>"+s[r]+"</li>")}if("finish_data_update"===o&&jQuery("#modal_info").hide(),"update_files"===o){console.log(t.finish_precent),jQuery("#update-progress-group").show();var a=jQuery("#update-progressbar");a.width(t.finish_precent),a.text("已更新:"+t.finish_precent)}}var i=t.datas,c=template("query-item",{datas:i});jQuery("#show_excel").append(c)}else progress.text(e.data+"% Complete (success)"),progress.css({width:e.data+"%"});else alert("非文本消息")},UpdateData.prototype.listenShowHideEvent=function(){var t=this;jQuery("#submit-local").click(function(e){if(e.preventDefault(),jQuery("#show_error_files").children("li").remove(),null==window.socket){window.socket=new WebSocket("ws://10.240.113.164:9005/"),window.socket.onopen=function(e){t.onopen()}}else t.onopen();window.socket.onmessage=function(e){t.onmessage(e)}})},UpdateData.prototype.run=function(){this.listenShowHideEvent()},$(function(){(new UpdateData).run()}),QueryBtn.prototype.listenClickEnterEvent=function(){var t=this;t.queryBtn.click(function(){t.connectionEvent()}),t.queryBtn.keypress(function(e){13==e.keyCode&&t.connectionEvent()})},QueryBtn.prototype.connectionEvent=function(){var n=this;if(null==window.socket){n.socket=new WebSocket("ws://10.240.113.164:9005/"),window.socket=n.socket,jQuery("#progress-group").show(),(r=jQuery("#progressbar")).css({width:0}),r.text("0.0% Complete (success)"),jQuery("#show_excel").html("");try{n.socket.onopen=function(e){var t=new Object;if(t.type="queryInfo",t.keyword=jQuery("#inputKeyword").val(),0!==t.keyword.length){console.log("not empyt"),t.queryMode=jQuery("#select-type").val(),t.tableType=jQuery("#table-type1").val(),t.selectScope=jQuery("#select-scope").val();var o=JSON.stringify(t);n.socket.send(o)}else console.log("empty")},n.socket.onmessage=function(e){if("string"==typeof e.data)if(isNaN(Number(e.data))){var t=JSON.parse(e.data);if("type"in t){var o=t.type;"not_found"===o&&(console.log("not_found"),jQuery("#not-found").show()),"badFiles"===o&&console.log("badFiles Test")}var n=t.datas,s=template("query-item",{datas:n});jQuery("#show_excel").append(s)}else r.text(e.data+"% Complete (success)"),r.css({width:e.data+"%"});else alert("非文本消息")},n.socket.onclose=function(e){alert("socket closed!")}}catch(e){log(e)}}else{var r;console.log("2"),jQuery("#not-found").hide(),n.socket=window.socket,jQuery("#progress-group").show(),(r=jQuery("#progressbar")).css({width:0}),r.text("0.0% Complete (success)"),jQuery("#show_excel").html("");try{var e=new Object;if(e.type="queryInfo",e.keyword=jQuery("#inputKeyword").val(),0!==e.keyword.length){console.log("not empyt"),e.queryMode=jQuery("#select-type").val(),e.tableType=jQuery("#table-type1").val(),e.selectScope=jQuery("#select-scope").val();var t=JSON.stringify(e);n.socket.send(t)}else console.log("empty");n.socket.onmessage=function(e){if("string"==typeof e.data)if(isNaN(Number(e.data))){var t=JSON.parse(e.data);if("type"in t){var o=t.type;"not_found"===o&&(console.log("not_found"),jQuery("#not-found").show()),"badFiles"===o&&console.log("badFiles Test")}var n=t.datas,s=template("query-item",{datas:n});jQuery("#show_excel").append(s)}else r.text(e.data+"% Complete (success)"),r.css({width:e.data+"%"}),console.log(r.width);else alert("非文本消息")},n.socket.onclose=function(e){alert("socket closed!")}}catch(e){log(e)}}},QueryBtn.prototype.run=function(){this.listenClickEnterEvent()},$(function(){var t=new QueryBtn;t.run(),jQuery("#inputKeyword").keypress(function(e){13==e.keyCode&&t.connectionEvent()}),jQuery("#reset-search").click(function(){jQuery(".form-horizontal")[0].reset()}),window.socket=null});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVwZGF0ZURhdGEiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCJqUXVlcnkiLCJRdWVyeUJ0biIsInF1ZXJ5QnRuIiwicHJvdG90eXBlIiwic2hvd0V2ZW50Iiwic2hvdyIsImhpZGVFdmVudCIsIm9ub3BlbiIsImRhdGEiLCJ0eXBlIiwibmFtZSIsInZhbCIsInRyaW0iLCJob3N0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImxvY2FsUm9hZCIsImpzb25RdWVyeUluZm8iLCJKU09OIiwic3RyaW5naWZ5Iiwid2luZG93Iiwic29ja2V0Iiwic2VuZCIsIm1vZGFsIiwib25tZXNzYWdlIiwibXNnIiwiaXNOYU4iLCJOdW1iZXIiLCJqc29uX29iaiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsInNob3dfZXJyb3JfZmlsZSIsImVycm9yX2ZpbGVfbGlzdCIsImkiLCJsZW5ndGgiLCJhcHBlbmQiLCJoaWRlIiwidXBkYXRlX3Byb2dyZXNzYmFyIiwid2lkdGgiLCJ0ZXh0IiwiZGF0YXMiLCJodG1sIiwidGVtcGxhdGUiLCJwcm9ncmVzcyIsImNzcyIsImFsZXJ0IiwibGlzdGVuU2hvd0hpZGVFdmVudCIsInNlbGYiLCJjbGljayIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNoaWxkcmVuIiwicmVtb3ZlIiwiV2ViU29ja2V0IiwicnVuIiwiJCIsImxpc3RlbkNsaWNrRW50ZXJFdmVudCIsImNvbm5lY3Rpb25FdmVudCIsImtleXByZXNzIiwia2V5Q29kZSIsInF1ZXJ5SW5mbyIsIk9iamVjdCIsImtleXdvcmQiLCJxdWVyeU1vZGUiLCJ0YWJsZVR5cGUiLCJzZWxlY3RTY29wZSIsIm9uY2xvc2UiLCJleCIsInF1ZXJ5QnRuT2oiLCJyZXNldCJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsYUFDTUMsS0FDTkMsWUFBY0MsT0FBTyxpQkE4SDlCLFNBQVNDLFdBQ01ILEtBQ05JLFNBQVdGLE9BQU8sZUE3SDNCSCxXQUFXTSxVQUFVQyxV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QUFDTixNQUFTZCxFQUFJakIsS0FBTyxNQUNsQ3NCLFFBQVFDLElBQUlhLEVBQVNMLFlBSXpCTyxNQUFNLFVBSWRFLEVBQUszQixPQUFPOEMsUUFBVSxTQUFVMUMsR0FBT3FCLE1BQU0sbUJBRWpELE1BQU9zQixHQUNIckMsSUFBSXFDLE1BS2hCbkUsU0FBU0UsVUFBVW9ELElBQU0sV0FDVnpELEtBQ04yRCx5QkFHVEQsRUFBRSxXQUNFLElBQUlhLEVBQWEsSUFBSXBFLFNBQ3JCb0UsRUFBV2QsTUFDUXZELE9BQU8saUJBQ2IyRCxTQUFTLFNBQVVULEdBQ1gsSUFBYkEsRUFBRVUsU0FDRlMsRUFBV1gsb0JBRW5CMUQsT0FBTyxpQkFBaUJpRCxNQUFNLFdBQzFCakQsT0FBTyxvQkFBb0IsR0FBR3NFLFVBR2xDbEQsT0FBT0MsT0FBUyIsImZpbGUiOiJpbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gVXBkYXRlRGF0YSgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubWFza1dyYXBwZXIgPSBqUXVlcnkoJy5tYXNrLXdyYXBwZXInKTtcclxufVxyXG5cclxuVXBkYXRlRGF0YS5wcm90b3R5cGUuc2hvd0V2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1hc2tXcmFwcGVyLnNob3coKTtcclxufTtcclxuXHJcblVwZGF0ZURhdGEucHJvdG90eXBlLmhpZGVFdmVudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG59O1xyXG5cclxuVXBkYXRlRGF0YS5wcm90b3R5cGUub25vcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHByak5hbWUgPSBqUXVlcnkoXCIjcHJvamVjdC1uYW1lXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgIHZhciBzdm5Ib3N0ID0galF1ZXJ5KFwiI3N2bi1ob3N0XCIpLnZhbCgpLnRyaW0oKTtcclxuICAgIHZhciB1c2VyICAgID0galF1ZXJ5KFwiI2dpdC11c2VybmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICB2YXIgcGFzc3dvcmQgPSBqUXVlcnkoXCIjZ2l0LXBhc3N3b3JkXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgIHZhciBsb2NhbFNhdmVSb2FkID0galF1ZXJ5KFwiI3N2bi1zYXZlXCIpLnZhbCgpLnRyaW0oKTtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHtcclxuICAgICAgICB0eXBlOiBcInN2blVwZGF0ZVwiLFxyXG4gICAgICAgIG5hbWU6IHByak5hbWUsXHJcbiAgICAgICAgaG9zdDogc3ZuSG9zdCxcclxuICAgICAgICB1c2VybmFtZTogdXNlcixcclxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXHJcbiAgICAgICAgbG9jYWxSb2FkOiBsb2NhbFNhdmVSb2FkXHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBqc29uUXVlcnlJbmZvID0gIEpTT04uc3RyaW5naWZ5KGRhdGEpO1xyXG4gICAgd2luZG93LnNvY2tldC5zZW5kKGpzb25RdWVyeUluZm8pO1xyXG4gICAgalF1ZXJ5KFwiI215TW9kYWxcIikubW9kYWwoJ2hpZGUnKTtcclxuICAgIGpRdWVyeShcIiNtb2RhbF9pbmZvXCIpLnNob3coKTtcclxuICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XHJcbn07XHJcblVwZGF0ZURhdGEucHJvdG90eXBlLm9ubWVzc2FnZSA9IGZ1bmN0aW9uKG1zZyl7XHJcbiAgICBpZiAodHlwZW9mIG1zZy5kYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICBpZiAgKGlzTmFOKE51bWJlcihtc2cuZGF0YSkpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8g5pi+56S65p+l6K+i57uT5p6c5Luj56CBXHJcbiAgICAgICAgICAgIHZhciBqc29uX29iaiA9IEpTT04ucGFyc2UobXNnLmRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoXCJ0eXBlXCIgaW4ganNvbl9vYmopXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0ganNvbl9vYmpbXCJ0eXBlXCJdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwibm90X2ZvdW5kXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3RfZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyDmmL7npLrplJnor6/mlofku7bnmoTkv6Hmga9cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImJhZEZpbGVzXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dfZXJyb3JfaW5mbyA9IGpRdWVyeShcIiNzaG93X2Vycm9yX2luZm9cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd19lcnJvcl9pbmZvLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd19lcnJvcl9maWxlID0galF1ZXJ5KFwiI3Nob3dfZXJyb3JfZmlsZXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yX2ZpbGVfbGlzdCA9IGpzb25fb2JqW1wiYmFkRmlsZXNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlcnJvcl9maWxlX2xpc3QubGVuZ3RoOyArK2kpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93X2Vycm9yX2ZpbGUuYXBwZW5kKFwiPGxpPlwiKyBlcnJvcl9maWxlX2xpc3RbaV0gKyBcIjwvbGk+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImZpbmlzaF9kYXRhX3VwZGF0ZVwiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIiNtb2RhbF9pbmZvXCIpLmhpZGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSBcInVwZGF0ZV9maWxlc1wiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGpzb25fb2JqW1wiZmluaXNoX3ByZWNlbnRcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVfcHJvZ3Jlc3NfZ3JvdXAgPSBqUXVlcnkoXCIjdXBkYXRlLXByb2dyZXNzLWdyb3VwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9wcm9ncmVzc19ncm91cC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZV9wcm9ncmVzc2JhciA9IGpRdWVyeShcIiN1cGRhdGUtcHJvZ3Jlc3NiYXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlX3Byb2dyZXNzYmFyLndpZHRoKGpzb25fb2JqW1wiZmluaXNoX3ByZWNlbnRcIl0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9wcm9ncmVzc2Jhci50ZXh0KFwi5bey5pu05pawOlwiICsganNvbl9vYmpbXCJmaW5pc2hfcHJlY2VudFwiXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIOacieaVsOaNrlxyXG4gICAgICAgICAgICB2YXIgZGF0YXMgPSBqc29uX29ialtcImRhdGFzXCJdO1xyXG4gICAgICAgICAgICB2YXIgaHRtbCA9IHRlbXBsYXRlKCdxdWVyeS1pdGVtJyx7XCJkYXRhc1wiOiBkYXRhc30pO1xyXG4gICAgICAgICAgICB2YXIgc2hvd19leGNlbCA9IGpRdWVyeShcIiNzaG93X2V4Y2VsXCIpO1xyXG4gICAgICAgICAgICBzaG93X2V4Y2VsLmFwcGVuZChodG1sKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgLy8geyPov5vluqbmnaHnmoTku6PnoIEjfVxyXG4gICAgICAgICAgICAvLyB2YXIgcHJvZ3Jlc3MgPSBqUXVlcnkoXCIjcHJvZ3Jlc3NiYXJcIilcclxuICAgICAgICAgICAgcHJvZ3Jlc3MudGV4dChtc2cuZGF0YSArICAnJSBDb21wbGV0ZSAoc3VjY2VzcyknKTtcclxuICAgICAgICAgICAgcHJvZ3Jlc3MuY3NzKHtcIndpZHRoXCI6IG1zZy5kYXRhICsgJyUnfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoXCLpnZ7mlofmnKzmtojmga9cIik7XHJcbiAgICB9XHJcbn07XHJcblxyXG5VcGRhdGVEYXRhLnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc3VibWl0TG9jYWwgPSAgalF1ZXJ5KCcjc3VibWl0LWxvY2FsJyk7XHJcbiAgICBzdWJtaXRMb2NhbC5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB2YXIgc2hvd19lcnJvcl9maWxlID0galF1ZXJ5KFwiI3Nob3dfZXJyb3JfZmlsZXNcIik7XHJcbiAgICAgICAgc2hvd19lcnJvcl9maWxlLmNoaWxkcmVuKCdsaScpLnJlbW92ZSgpO1xyXG4gICAgICAgIGlmICh3aW5kb3cuc29ja2V0ID09IG51bGwpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgaG9zdCA9IFwid3M6Ly8xMC4yNDAuMTEzLjE2NDo5MDA1L1wiO1xyXG4gICAgICAgICAgICB3aW5kb3cuc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgICAgICAgICAgd2luZG93LnNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLm9ub3BlbigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHNlbGYub25vcGVuKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgc2VsZi5vbm1lc3NhZ2UobXNnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5VcGRhdGVEYXRhLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBVcGRhdGVEYXRhKCk7XHJcbiAgICB1cGRhdGUucnVuKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gUXVlcnlCdG4oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnF1ZXJ5QnRuID0galF1ZXJ5KFwiI2J0bi1zZWFyY2hcIik7XHJcbn1cclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5saXN0ZW5DbGlja0VudGVyRXZlbnQgPSBmdW5jdGlvbiAoKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucXVlcnlCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuY29ubmVjdGlvbkV2ZW50KCk7XHJcbiAgICB9KTtcclxuICAgIHNlbGYucXVlcnlCdG4ua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKVxyXG4gICAgICAgICAgICBzZWxmLmNvbm5lY3Rpb25FdmVudCgpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5RdWVyeUJ0bi5wcm90b3R5cGUuY29ubmVjdGlvbkV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgaWYod2luZG93LnNvY2tldCA9PSBudWxsKXtcclxuICAgICAgICB2YXIgaG9zdCA9IFwid3M6Ly8xMC4yNDAuMTEzLjE2NDo5MDA1L1wiO1xyXG4gICAgICAgIHNlbGYuc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgICAgICB3aW5kb3cuc29ja2V0ID0gc2VsZi5zb2NrZXQ7XHJcbiAgICAgICAgalF1ZXJ5KFwiI3Byb2dyZXNzLWdyb3VwXCIpLnNob3coKTtcclxuICAgICAgICB2YXIgcHJvZ3Jlc3MgPSBqUXVlcnkoXCIjcHJvZ3Jlc3NiYXJcIilcclxuICAgICAgICBwcm9ncmVzcy5jc3Moe1wid2lkdGhcIjogMH0pO1xyXG4gICAgICAgIHByb2dyZXNzLnRleHQoJzAuMCUgQ29tcGxldGUgKHN1Y2Nlc3MpJyk7XHJcbiAgICAgICAgdmFyIHNob3dfZXhjZWwgPSBqUXVlcnkoXCIjc2hvd19leGNlbFwiKTtcclxuICAgICAgICBzaG93X2V4Y2VsLmh0bWwoXCJcIik7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc2VsZi5zb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5SW5mbyA9IG5ldyBPYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby50eXBlID0gXCJxdWVyeUluZm9cIjtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby5rZXl3b3JkID0galF1ZXJ5KFwiI2lucHV0S2V5d29yZFwiKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIGlmKHF1ZXJ5SW5mby5rZXl3b3JkLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm5vdCBlbXB5dFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWVyeUluZm8ucXVlcnlNb2RlID0galF1ZXJ5KFwiI3NlbGVjdC10eXBlXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby50YWJsZVR5cGUgPSBqUXVlcnkoXCIjdGFibGUtdHlwZTFcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlJbmZvLnNlbGVjdFNjb3BlID0galF1ZXJ5KFwiI3NlbGVjdC1zY29wZVwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25RdWVyeUluZm8gPSAgSlNPTi5zdHJpbmdpZnkocXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNvY2tldC5zZW5kKGpzb25RdWVyeUluZm8pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJlbXB0eVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHNlbGYuc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnLmRhdGEgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRpc3BsYXlDb250ZW50KG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAgKGlzTmFOKE51bWJlcihtc2cuZGF0YSkpKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pi+56S65p+l6K+i57uT5p6c5Luj56CBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqc29uX29iaiA9IEpTT04ucGFyc2UobXNnLmRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJ0eXBlXCIgaW4ganNvbl9vYmopXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0ganNvbl9vYmpbXCJ0eXBlXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwibm90X2ZvdW5kXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3RfZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJiYWRGaWxlc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFkRmlsZXMgVGVzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDmnInmlbDmja5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFzID0ganNvbl9vYmpbXCJkYXRhc1wiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZSgncXVlcnktaXRlbScse1wiZGF0YXNcIjogZGF0YXN9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dfZXhjZWwgPSBqUXVlcnkoXCIjc2hvd19leGNlbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd19leGNlbC5hcHBlbmQoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHsj6L+b5bqm5p2h55qE5Luj56CBI31cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHByb2dyZXNzID0galF1ZXJ5KFwiI3Byb2dyZXNzYmFyXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLnRleHQobXNnLmRhdGEgKyAgJyUgQ29tcGxldGUgKHN1Y2Nlc3MpJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLmNzcyh7XCJ3aWR0aFwiOiBtc2cuZGF0YSArICclJ30pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6Z2e5paH5pys5raI5oGvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgc2VsZi5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChtc2cpIHsgYWxlcnQoXCJzb2NrZXQgY2xvc2VkIVwiKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgbG9nKGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIjJcIik7XHJcbiAgICAgICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5oaWRlKCk7XHJcbiAgICAgICAgc2VsZi5zb2NrZXQgPSB3aW5kb3cuc29ja2V0O1xyXG4gICAgICAgIGpRdWVyeShcIiNwcm9ncmVzcy1ncm91cFwiKS5zaG93KCk7XHJcbiAgICAgICAgdmFyIHByb2dyZXNzID0galF1ZXJ5KFwiI3Byb2dyZXNzYmFyXCIpXHJcbiAgICAgICAgcHJvZ3Jlc3MuY3NzKHtcIndpZHRoXCI6IDB9KTtcclxuICAgICAgICBwcm9ncmVzcy50ZXh0KCcwLjAlIENvbXBsZXRlIChzdWNjZXNzKScpO1xyXG4gICAgICAgIHZhciBzaG93X2V4Y2VsID0galF1ZXJ5KFwiI3Nob3dfZXhjZWxcIik7XHJcbiAgICAgICAgc2hvd19leGNlbC5odG1sKFwiXCIpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIHNlbGYuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgICAgIHZhciBxdWVyeUluZm8gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICBxdWVyeUluZm8udHlwZSA9IFwicXVlcnlJbmZvXCI7XHJcbiAgICAgICAgICAgICAgICBxdWVyeUluZm8ua2V5d29yZCA9IGpRdWVyeShcIiNpbnB1dEtleXdvcmRcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBpZihxdWVyeUluZm8ua2V5d29yZC5sZW5ndGggIT09IDApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZW1weXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlJbmZvLnF1ZXJ5TW9kZSA9IGpRdWVyeShcIiNzZWxlY3QtdHlwZVwiKS52YWwoKTtcclxuICAgICAgICAgICAgICAgICAgICBxdWVyeUluZm8udGFibGVUeXBlID0galF1ZXJ5KFwiI3RhYmxlLXR5cGUxXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby5zZWxlY3RTY29wZSA9IGpRdWVyeShcIiNzZWxlY3Qtc2NvcGVcIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBqc29uUXVlcnlJbmZvID0gIEpTT04uc3RyaW5naWZ5KHF1ZXJ5SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zb2NrZXQuc2VuZChqc29uUXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW1wdHlcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgICAgICBzZWxmLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zZy5kYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkaXNwbGF5Q29udGVudChtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgIChpc05hTihOdW1iZXIobXNnLmRhdGEpKSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaYvuekuuafpeivoue7k+aenOS7o+eggVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbl9vYmogPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwidHlwZVwiIGluIGpzb25fb2JqKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGpzb25fb2JqW1widHlwZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcIm5vdF9mb3VuZFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90X2ZvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIiNub3QtZm91bmRcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYmFkRmlsZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImJhZEZpbGVzIFRlc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5pyJ5pWw5o2uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhcyA9IGpzb25fb2JqW1wiZGF0YXNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGVtcGxhdGUoJ3F1ZXJ5LWl0ZW0nLHtcImRhdGFzXCI6IGRhdGFzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG93X2V4Y2VsID0galF1ZXJ5KFwiI3Nob3dfZXhjZWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dfZXhjZWwuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB7I+i/m+W6puadoeeahOS7o+eggSN9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBwcm9ncmVzcyA9IGpRdWVyeShcIiNwcm9ncmVzc2JhclwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy50ZXh0KG1zZy5kYXRhICsgICclIENvbXBsZXRlIChzdWNjZXNzKScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy5jc3Moe1wid2lkdGhcIjogbXNnLmRhdGEgKyAnJSd9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZ3Jlc3Mud2lkdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwi6Z2e5paH5pys5raI5oGvXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgc2VsZi5zb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChtc2cpIHsgYWxlcnQoXCJzb2NrZXQgY2xvc2VkIVwiKSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgbG9nKGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcblxyXG5RdWVyeUJ0bi5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkNsaWNrRW50ZXJFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcXVlcnlCdG5PaiA9IG5ldyBRdWVyeUJ0bigpO1xyXG4gICAgcXVlcnlCdG5Pai5ydW4oKTtcclxuICAgIHZhciBpbnB1dEtleXdvcmQgPSBqUXVlcnkoXCIjaW5wdXRLZXl3b3JkXCIpO1xyXG4gICAgaW5wdXRLZXl3b3JkLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMylcclxuICAgICAgICAgICAgcXVlcnlCdG5Pai5jb25uZWN0aW9uRXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgalF1ZXJ5KFwiI3Jlc2V0LXNlYXJjaFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgalF1ZXJ5KFwiLmZvcm0taG9yaXpvbnRhbFwiKVswXS5yZXNldCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93LnNvY2tldCA9IG51bGw7XHJcblxyXG4gICAgLy8galF1ZXJ5KFwiI3N2bi1zYXZlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIui/meaYr+S4gOS4queCueWHu+S6i+S7tlwiKTtcclxuICAgIC8vICAgICAgdmFyIGZpbGVTYXZlID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJNU0NvbURsZy5Db21tb25EaWFsb2dcIik7XHJcbiAgICAvLyAgICAgZmlsZVNhdmUuTWF4RmlsZVNpemUgPSAxMjg7XHJcbiAgICAvLyAgICAgZmlsZVNhdmUuRmlsdGVyID0gXCIqLmJtcFwiO1xyXG4gICAgLy8gICAgIGZpbGVTYXZlLkZpbHRlckluZGV4ID0gMjtcclxuICAgIC8vICAgICBmaWxlU2F2ZS5maWxlTmFtZSA9IG15ZGF0ZS50b0xvY2FsZVN0cmluZygpLnJlcGxhY2UoXCIgXCIsIFwiXCIpLnJlcGxhY2UoXCLlubRcIiwgXCJcIikucmVwbGFjZShcIuaciFwiLCBcIlwiKS5yZXBsYWNlKFwi5pelXCIsIFwiXCIpLnJlcGxhY2UocmVnLCBcIlwiKTtcclxuICAgIC8vICAgICBmaWxlU2F2ZS5EaWFsb2dUaXRsZSA9IFwi6YCJ5oup5Zu+54mH5a2Y5YKo6Lev5b6EXCI7XHJcbiAgICAvLyAgICAgZmlsZVNhdmUuU2hvd1NhdmUoKTtcclxuICAgIC8vICAgICB2YXIgcGF0aD1maWxlU2F2ZS5maWxlTmFtZStcIi5ibXBcIjtcclxuICAgIC8vIH0pO1xyXG59KTsiXX0=
