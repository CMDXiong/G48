function UpdateData(){this.maskWrapper=jQuery(".mask-wrapper")}function QueryBtn(){this.queryBtn=jQuery("#btn-search")}UpdateData.prototype.listenShowHideEvent=function(){jQuery("#submit-local").click(function(e){e.preventDefault(),window.svn_config=!0,jQuery("#progress-group").hide(),jQuery("#not-found").hide();var r=jQuery("#project-name").val().trim();jQuery(".project-name").text(r);console.log("test");var u=new WebSocket("ws://127.0.0.1:9005/");try{u.onopen=function(e){var r=jQuery("#project-name").val().trim(),o=jQuery("#svn-host").val().trim(),t=jQuery("#git-username").val().trim(),n=jQuery("#git-password").val().trim(),s=jQuery("#svn-save").val().trim();if(""!==r&&""!==o&&""!==t&&""!==n&&""!=s){var i={type:"svnUpdate",name:r,host:o,username:t,password:n,localRoad:s},a=JSON.stringify(i);u.send(a),jQuery("#myModal").modal("hide"),jQuery("#modal_info").show()}else alert("必填项不能为空！")},u.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data).type;if("path_error"===r)return alert("保存路径不存在！"),void u.close();if("svn_config_success"===r)return alert("svn配置成功"),void u.close()}}}catch(e){log(e)}})},UpdateData.prototype.run=function(){this.listenShowHideEvent()},$(function(){(new UpdateData).run()}),QueryBtn.prototype.listenClickEnterEvent=function(){var r=this;r.queryBtn.click(function(){r.connectionEvent()}),r.queryBtn.keypress(function(e){13==e.keyCode&&r.connectionEvent()})},QueryBtn.prototype.connectionEvent=function(){jQuery("#update-progress-group").hide(),jQuery("#show_error_info").hide(),jQuery("#modal_info").hide();var s=new WebSocket("ws://127.0.0.1:9005/");jQuery("#progress-group").show();var i=jQuery("#progressbar");i.css({width:0}),i.text("0.0% Complete (success)");var e=jQuery("#show_excel");jQuery("#not-found").hide(),e.html("");try{s.onopen=function(e){var r=new Object;if(r.type="queryInfo",r.keyword=jQuery("#inputKeyword").val(),0!==r.keyword.length){console.log("not empyt"),r.queryMode=jQuery("#select-type").val(),r.tableType=jQuery("#table-type1").val(),r.selectScope=jQuery("#select-scope").val();var o=JSON.stringify(r);s.send(o)}else console.log("empty")},s.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data),o=r.type;if("not_found"===o&&(console.log("未找到相关检索，通信正常关闭"),s.close(),jQuery("#not-found").show()),"more_data"===o&&(console.log("more_data"),alert("关键字检索范围过大，请进一步细化关键字"),s.close()),"query_finish"===o&&(console.log("正常通信关闭"),s.close()),"progressbar"===o&&(console.log("progressbar"),i.text(r.value+"% Complete (success)"),i.width(r.value+"%")),"query_result"==o){console.log("查询结果");var t=r.datas,n=template("query-item",{datas:t});jQuery("#show_excel").append(n)}}}}catch(e){log(e)}},QueryBtn.prototype.run=function(){this.listenClickEnterEvent()},$(function(){window.svn_config=!1;var r=new QueryBtn;r.run(),jQuery("#inputKeyword").keypress(function(e){13==e.keyCode&&r.connectionEvent()}),jQuery("#reset-search").click(function(){jQuery(".form-horizontal")[0].reset()}),jQuery("#update").click(function(){var i=jQuery("#show_error_info");i.find("li").remove();var e=jQuery("#show_excel");jQuery("#not-found").hide(),jQuery("#progress-group").hide(),jQuery("#circle-progress-info").show(),e.html("");var a=new WebSocket("ws://127.0.0.1:9005/"),r=new Object;r.type="update_request";var o=JSON.stringify(r);try{a.onopen=function(){a.send(o)},a.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data),o=r.type;if("svn_config_needing"===o)return jQuery("#circle-progress-info").hide(),void alert("请先配置！！！！！");if("path_error"===o&&(alert("保存路径不存在！"),a.close()),"badFiles"===o&&(a.close(),console.log("show badFiles")),"update_files"===o){jQuery("#circle-progress-info").hide(),jQuery("#update-progress-group").show(),jQuery("#update-progress-group").show();var t=jQuery("#update-progressbar");if(t.width(r.finish_precent),t.text("已更新:"+r.finish_precent),r.bad_file_info.file_name){i.show();var n=r.bad_file_info.error_type,s=r.bad_file_info.file_name;switch(n){case"BadZipfile":jQuery("#BadZipFile").show(),jQuery("#show_BadZipFile_files").append("<li>"+s+"</li>");break;case"TypeError":jQuery("#TypeError").show(),jQuery("#show_TypeError_files").append("<li>"+s+"</li>");break;case"IOError":jQuery("#IOError").show(),jQuery("#show_IOError_files").append("<li>"+s+"</li>")}}}"load_data_finish"===o&&a.close()}}}catch(e){log(e)}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVwZGF0ZURhdGEiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCJqUXVlcnkiLCJRdWVyeUJ0biIsInF1ZXJ5QnRuIiwicHJvdG90eXBlIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93Iiwic3ZuX2NvbmZpZyIsImhpZGUiLCJwcmpOYW1lIiwidmFsIiwidHJpbSIsInRleHQiLCJjb25zb2xlIiwibG9nIiwic29ja2V0IiwiV2ViU29ja2V0Iiwib25vcGVuIiwibXNnIiwic3ZuSG9zdCIsInVzZXIiLCJwYXNzd29yZCIsImxvY2FsU2F2ZVJvYWQiLCJkYXRhIiwidHlwZSIsIm5hbWUiLCJob3N0IiwidXNlcm5hbWUiLCJsb2NhbFJvYWQiLCJqc29uUXVlcnlJbmZvIiwiSlNPTiIsInN0cmluZ2lmeSIsInNlbmQiLCJtb2RhbCIsInNob3ciLCJhbGVydCIsIm9ubWVzc2FnZSIsInBhcnNlIiwiY2xvc2UiLCJydW4iLCIkIiwibGlzdGVuQ2xpY2tFbnRlckV2ZW50Iiwic2VsZiIsImNvbm5lY3Rpb25FdmVudCIsImtleXByZXNzIiwia2V5Q29kZSIsInByb2dyZXNzIiwiY3NzIiwid2lkdGgiLCJzaG93X2V4Y2VsIiwiaHRtbCIsInF1ZXJ5SW5mbyIsIk9iamVjdCIsImtleXdvcmQiLCJsZW5ndGgiLCJxdWVyeU1vZGUiLCJ0YWJsZVR5cGUiLCJzZWxlY3RTY29wZSIsImpzb25fb2JqIiwiZGF0YXMiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsInF1ZXJ5QnRuT2oiLCJyZXNldCIsInNob3dfZXJyb3JfaW5mbyIsImZpbmQiLCJyZW1vdmUiLCJ1cGRhdGVfaW5mbyIsImpzb25fdXBkYXRlX2luZm8iLCJ1cGRhdGVfcHJvZ3Jlc3NiYXIiLCJlcnJvcl9maWxlX3R5cGUiLCJmaWxlbmFtZSJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsYUFDTUMsS0FDTkMsWUFBY0MsT0FBTyxp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M0QscUJBQVQvQyxHQUdBVCxFQUFPdUIsVUFNdkIsTUFBT2xDLEdBQ0hVLElBQUlWIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxyXG5mdW5jdGlvbiBVcGRhdGVEYXRhKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5tYXNrV3JhcHBlciA9IGpRdWVyeSgnLm1hc2std3JhcHBlcicpO1xyXG59XHJcblxyXG5VcGRhdGVEYXRhLnByb3RvdHlwZS5saXN0ZW5TaG93SGlkZUV2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc3VibWl0TG9jYWwgPSAgalF1ZXJ5KCcjc3VibWl0LWxvY2FsJyk7XHJcbiAgICBzdWJtaXRMb2NhbC5jbGljayhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB3aW5kb3cuc3ZuX2NvbmZpZyA9IHRydWU7XHJcbiAgICAgICAgalF1ZXJ5KFwiI3Byb2dyZXNzLWdyb3VwXCIpLmhpZGUoKTtcclxuICAgICAgICBqUXVlcnkoXCIjbm90LWZvdW5kXCIpLmhpZGUoKTtcclxuICAgICAgICB2YXIgcHJqTmFtZSA9IGpRdWVyeShcIiNwcm9qZWN0LW5hbWVcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGpRdWVyeShcIi5wcm9qZWN0LW5hbWVcIikudGV4dChwcmpOYW1lKTtcclxuXHJcblxyXG4gICAgICAgIC8vIHZhciBob3N0ID0gXCJ3czovLzEwLjI0MC4xMTMuMTY0OjkwMDUvXCI7XHJcbiAgICAgICAgdmFyIGhvc3QgPSBcIndzOi8vMTI3LjAuMC4xOjkwMDUvXCI7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xyXG4gICAgICAgIC8vIHZhciBob3N0ID0gXCJ3czovLzAuMC4wLjA6OTAwNS9cIjtcclxuICAgICAgICB2YXIgc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByak5hbWUgICAgICAgPSBqUXVlcnkoXCIjcHJvamVjdC1uYW1lXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdm5Ib3N0ICAgICAgID0galF1ZXJ5KFwiI3N2bi1ob3N0XCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VyICAgICAgICAgID0galF1ZXJ5KFwiI2dpdC11c2VybmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFzc3dvcmQgICAgICA9IGpRdWVyeShcIiNnaXQtcGFzc3dvcmRcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsU2F2ZVJvYWQgPSBqUXVlcnkoXCIjc3ZuLXNhdmVcIikudmFsKCkudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgocHJqTmFtZSA9PT0gXCJcIikgfHwgKHN2bkhvc3QgPT09IFwiXCIpIHx8ICh1c2VyID09PSBcIlwiKSB8fCAocGFzc3dvcmQgPT09IFwiXCIpIHx8IChsb2NhbFNhdmVSb2FkID09IFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+W/heWhq+mhueS4jeiDveS4uuepuu+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3ZuVXBkYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJqTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBob3N0OiBzdm5Ib3N0LFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFJvYWQ6IGxvY2FsU2F2ZVJvYWRcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGpzb25RdWVyeUluZm8gPSAgSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChqc29uUXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgIGpRdWVyeShcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoXCIjbW9kYWxfaW5mb1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zZy5kYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIganNvbl9vYmogPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGpzb25fb2JqW1widHlwZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlID09PSBcInBhdGhfZXJyb3JcIikgICAgICAgICAgICAgICAvLyDloavlhpnnmoTot6/lvoTkuI3mraPnoa7nmoTmj5DnpLpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfkv53lrZjot6/lvoTkuI3lrZjlnKjvvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IFwic3ZuX2NvbmZpZ19zdWNjZXNzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnc3Zu6YWN572u5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBsb2coZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5VcGRhdGVEYXRhLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBVcGRhdGVEYXRhKCk7XHJcbiAgICB1cGRhdGUucnVuKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gUXVlcnlCdG4oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnF1ZXJ5QnRuID0galF1ZXJ5KFwiI2J0bi1zZWFyY2hcIik7XHJcbn1cclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5saXN0ZW5DbGlja0VudGVyRXZlbnQgPSBmdW5jdGlvbiAoKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucXVlcnlCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGlmICh3aW5kb3cuc3ZuX2NvbmZpZyA9PSBmYWxzZSApXHJcbiAgICAgICAgLy8ge1xyXG4gICAgICAgIC8vICAgICBhbGVydChcIuivt+WFiOmFjee9ru+8ge+8ge+8gVwiKTtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBzZWxmLmNvbm5lY3Rpb25FdmVudCgpO1xyXG4gICAgfSk7XHJcbiAgICBzZWxmLnF1ZXJ5QnRuLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gaWYgKHdpbmRvdy5zdm5fY29uZmlnID09IGZhbHNlIClcclxuICAgICAgICAvLyB7XHJcbiAgICAgICAgLy8gICAgIGFsZXJ0KFwi6K+35YWI6YWN572u77yB77yB77yBXCIpO1xyXG4gICAgICAgIC8vICAgICByZXR1cm47XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpXHJcbiAgICAgICAgICAgIHNlbGYuY29ubmVjdGlvbkV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5jb25uZWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBqUXVlcnkoXCIjdXBkYXRlLXByb2dyZXNzLWdyb3VwXCIpLmhpZGUoKTtcclxuICAgIGpRdWVyeShcIiNzaG93X2Vycm9yX2luZm9cIikuaGlkZSgpO1xyXG4gICAgalF1ZXJ5KFwiI21vZGFsX2luZm9cIikuaGlkZSgpO1xyXG5cclxuICAgIC8vIHZhciBob3N0ID0gXCJ3czovLzEwLjI0MC4xMTMuMTY0OjkwMDUvXCI7XHJcbiAgICB2YXIgaG9zdCA9IFwid3M6Ly8xMjcuMC4wLjE6OTAwNS9cIjtcclxuICAgIC8vIHZhciBob3N0ID0gXCJ3czovLzAuMC4wLjA6OTAwNS9cIjtcclxuICAgIHZhciBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGhvc3QpO1xyXG4gICAgalF1ZXJ5KFwiI3Byb2dyZXNzLWdyb3VwXCIpLnNob3coKTtcclxuICAgIHZhciBwcm9ncmVzcyA9IGpRdWVyeShcIiNwcm9ncmVzc2JhclwiKVxyXG4gICAgcHJvZ3Jlc3MuY3NzKHtcIndpZHRoXCI6IDB9KTtcclxuICAgIHByb2dyZXNzLnRleHQoJzAuMCUgQ29tcGxldGUgKHN1Y2Nlc3MpJyk7XHJcbiAgICB2YXIgc2hvd19leGNlbCA9IGpRdWVyeShcIiNzaG93X2V4Y2VsXCIpO1xyXG4gICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5oaWRlKCk7XHJcbiAgICBzaG93X2V4Y2VsLmh0bWwoXCJcIik7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAobXNnKXtcclxuICAgICAgICAgICAgdmFyIHF1ZXJ5SW5mbyA9IG5ldyBPYmplY3QoKTtcclxuICAgICAgICAgICAgcXVlcnlJbmZvLnR5cGUgPSBcInF1ZXJ5SW5mb1wiO1xyXG4gICAgICAgICAgICBxdWVyeUluZm8ua2V5d29yZCA9IGpRdWVyeShcIiNpbnB1dEtleXdvcmRcIikudmFsKCk7XHJcbiAgICAgICAgICAgIGlmKHF1ZXJ5SW5mby5rZXl3b3JkLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJub3QgZW1weXRcIik7XHJcbiAgICAgICAgICAgICAgICBxdWVyeUluZm8ucXVlcnlNb2RlID0galF1ZXJ5KFwiI3NlbGVjdC10eXBlXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICAgICAgcXVlcnlJbmZvLnRhYmxlVHlwZSA9IGpRdWVyeShcIiN0YWJsZS10eXBlMVwiKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby5zZWxlY3RTY29wZSA9IGpRdWVyeShcIiNzZWxlY3Qtc2NvcGVcIikudmFsKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGpzb25RdWVyeUluZm8gPSAgSlNPTi5zdHJpbmdpZnkocXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKGpzb25RdWVyeUluZm8pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZW1wdHlcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtc2cuZGF0YSA9PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDmmL7npLrmn6Xor6Lnu5Pmnpzku6PnoIFcclxuICAgICAgICAgICAgICAgIHZhciBqc29uX29iaiA9IEpTT04ucGFyc2UobXNnLmRhdGEpOyAgIC8vIOWPjeW6j+WIl+WMllxyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBqc29uX29ialtcInR5cGVcIl07ICAgICAgICAgICAvLyDkvKDpgJLov4fmnaXnmoTmlbDmja7kuK3kuIDlrprkvJrmnIl0eXBl5YWz6ZSu5a2X77yM5qC55o2udHlwZeadpeWBmuebuOW6lOeahOaTjeS9nFxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcIm5vdF9mb3VuZFwiKSAgICAgICAgICAvLyDmnKrmib7liLDnm7jlhbPmo4DntKLnmoTmj5DnpLpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuacquaJvuWIsOebuOWFs+ajgOe0ou+8jOmAmuS/oeato+W4uOWFs+mXrVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjbm90LWZvdW5kXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSAgXCJtb3JlX2RhdGFcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1vcmVfZGF0YVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIuWFs+mUruWtl+ajgOe0ouiMg+WbtOi/h+Wkp++8jOivt+i/m+S4gOatpee7huWMluWFs+mUruWtl1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcInF1ZXJ5X2ZpbmlzaFwiKSAgICAgICAvLyDpgJrkv6HlrozmiJBcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuato+W4uOmAmuS/oeWFs+mXrVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcInByb2dyZXNzYmFyXCIpICAgICAgICAvLyDov5vluqbmnaHnmoTliqjmgIHmmL7npLpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInByb2dyZXNzYmFyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLnRleHQoanNvbl9vYmpbXCJ2YWx1ZVwiXSArICclIENvbXBsZXRlIChzdWNjZXNzKScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2dyZXNzLndpZHRoKGpzb25fb2JqW1widmFsdWVcIl0gKyAnJScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0eXBlID09IFwicXVlcnlfcmVzdWx0XCIpICAgICAgIC8vIOaYvuekuuafpeivoueahOe7k+aenFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5p+l6K+i57uT5p6cXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhcyA9IGpzb25fb2JqW1wiZGF0YXNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh0bWwgPSB0ZW1wbGF0ZSgncXVlcnktaXRlbScse1wiZGF0YXNcIjogZGF0YXN9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd19leGNlbCA9IGpRdWVyeShcIiNzaG93X2V4Y2VsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dfZXhjZWwuYXBwZW5kKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKG1zZykgeyBhbGVydChcInNvY2tldCBjbG9zZWQhXCIpIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nKGUpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuUXVlcnlCdG4ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5DbGlja0VudGVyRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgd2luZG93LnN2bl9jb25maWcgPSBmYWxzZTtcclxuICAgIC8vIHdpbmRvdy5zdm5fY29uZmlnID0gdHJ1ZTtcclxuICAgIHZhciBxdWVyeUJ0bk9qID0gbmV3IFF1ZXJ5QnRuKCk7XHJcbiAgICBxdWVyeUJ0bk9qLnJ1bigpO1xyXG4gICAgdmFyIGlucHV0S2V5d29yZCA9IGpRdWVyeShcIiNpbnB1dEtleXdvcmRcIik7XHJcbiAgICBpbnB1dEtleXdvcmQua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09IDEzKVxyXG4gICAgICAgICAgICBxdWVyeUJ0bk9qLmNvbm5lY3Rpb25FdmVudCgpO1xyXG4gICAgfSk7XHJcbiAgICBqUXVlcnkoXCIjcmVzZXQtc2VhcmNoXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBqUXVlcnkoXCIuZm9ybS1ob3Jpem9udGFsXCIpWzBdLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBqUXVlcnkoXCIjdXBkYXRlXCIpLmNsaWNrKGZ1bmN0aW9uICgpIHsgICAgICAgICAgICAgICAgICAgICAvLyDngrnlh7vng63mm7TmlrBcclxuICAgICAgICAvLyBpZiAod2luZG93LnN2bl9jb25maWcgPT0gZmFsc2UgKVxyXG4gICAgICAgIC8vIHtcclxuICAgICAgICAvLyAgICAgYWxlcnQoXCLor7flhYjphY3nva7vvIHvvIHvvIFcIik7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHZhciBzaG93X2Vycm9yX2luZm8gPSBqUXVlcnkoXCIjc2hvd19lcnJvcl9pbmZvXCIpO1xyXG4gICAgICAgICAgICBzaG93X2Vycm9yX2luZm8uZmluZChcImxpXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgc2hvd19leGNlbCA9IGpRdWVyeShcIiNzaG93X2V4Y2VsXCIpO1xyXG4gICAgICAgICAgICBqUXVlcnkoXCIjbm90LWZvdW5kXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgalF1ZXJ5KFwiI3Byb2dyZXNzLWdyb3VwXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgalF1ZXJ5KFwiI2NpcmNsZS1wcm9ncmVzcy1pbmZvXCIpLnNob3coKTtcclxuICAgICAgICAgICAgc2hvd19leGNlbC5odG1sKFwiXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIHZhciBob3N0ID0gXCJ3czovLzEwLjI0MC4xMTMuMTY0OjkwMDUvXCI7XHJcbiAgICAgICAgICAgIHZhciBob3N0ID0gXCJ3czovLzEyNy4wLjAuMTo5MDA1L1wiO1xyXG4gICAgICAgICAgICAvLyB2YXIgaG9zdCA9IFwid3M6Ly8wLjAuMC4wOjkwMDUvXCI7XHJcbiAgICAgICAgICAgIHZhciBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KGhvc3QpO1xyXG4gICAgICAgICAgICB2YXIgdXBkYXRlX2luZm8gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHVwZGF0ZV9pbmZvLnR5cGUgPSBcInVwZGF0ZV9yZXF1ZXN0XCI7XHJcbiAgICAgICAgICAgIHZhciBqc29uX3VwZGF0ZV9pbmZvID0gIEpTT04uc3RyaW5naWZ5KHVwZGF0ZV9pbmZvKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHNvY2tldC5vbm9wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnNlbmQoanNvbl91cGRhdGVfaW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnLmRhdGEgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIganNvbl9vYmogPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHR5cGUgPSBqc29uX29ialtcInR5cGVcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcInN2bl9jb25maWdfbmVlZGluZ1wiKSAgICAgIC8vIOmcgOimgXN2bueahOmFjee9ruaWh+S7tlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjY2lyY2xlLXByb2dyZXNzLWluZm9cIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLor7flhYjphY3nva7vvIHvvIHvvIHvvIHvvIFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gXCJwYXRoX2Vycm9yXCIpICAgICAgICAgICAgICAgLy8g5aGr5YaZ55qE6Lev5b6E5LiN5q2j56Gu55qE5o+Q56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfkv53lrZjot6/lvoTkuI3lrZjlnKjvvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImJhZEZpbGVzXCIpICAgICAgICAgICAgICAgICAvL+i9veWFpeaVsOaNrueisOWIsOWdj+aWh+S7tueahOaPkOekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2hvdyBiYWRGaWxlc1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IFwidXBkYXRlX2ZpbGVzXCIpICAgICAgICAgICAgICAvLyDmm7TmlrDov5vluqbmnaHnmoTmmL7npLpcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI2NpcmNsZS1wcm9ncmVzcy1pbmZvXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIiN1cGRhdGUtcHJvZ3Jlc3MtZ3JvdXBcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZV9wcm9ncmVzc19ncm91cCA9IGpRdWVyeShcIiN1cGRhdGUtcHJvZ3Jlc3MtZ3JvdXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfcHJvZ3Jlc3NfZ3JvdXAuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZV9wcm9ncmVzc2JhciA9IGpRdWVyeShcIiN1cGRhdGUtcHJvZ3Jlc3NiYXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfcHJvZ3Jlc3NiYXIud2lkdGgoanNvbl9vYmpbXCJmaW5pc2hfcHJlY2VudFwiXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVfcHJvZ3Jlc3NiYXIudGV4dChcIuW3suabtOaWsDpcIiArIGpzb25fb2JqW1wiZmluaXNoX3ByZWNlbnRcIl0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqc29uX29ialtcImJhZF9maWxlX2luZm9cIl1bXCJmaWxlX25hbWVcIl0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd19lcnJvcl9pbmZvLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JfZmlsZV90eXBlID0ganNvbl9vYmpbXCJiYWRfZmlsZV9pbmZvXCJdW1wiZXJyb3JfdHlwZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWUgPSBqc29uX29ialtcImJhZF9maWxlX2luZm9cIl1bXCJmaWxlX25hbWVcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlcnJvcl9maWxlX3R5cGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQmFkWmlwZmlsZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI0JhZFppcEZpbGVcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI3Nob3dfQmFkWmlwRmlsZV9maWxlc1wiKS5hcHBlbmQoXCI8bGk+XCIrIGZpbGVuYW1lICsgXCI8L2xpPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVHlwZUVycm9yXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjVHlwZUVycm9yXCIpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIiNzaG93X1R5cGVFcnJvcl9maWxlc1wiKS5hcHBlbmQoXCI8bGk+XCIrIGZpbGVuYW1lICsgXCI8L2xpPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiSU9FcnJvclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI0lPRXJyb3JcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI3Nob3dfSU9FcnJvcl9maWxlc1wiKS5hcHBlbmQoXCI8bGk+XCIrIGZpbGVuYW1lICsgXCI8L2xpPlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlID09PSBcImxvYWRfZGF0YV9maW5pc2hcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8galF1ZXJ5KFwiI3VwZGF0ZS1wcm9ncmVzcy1ncm91cFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFsZXJ0KFwi5pWw5o2u5pu05paw5a6M5oiQXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBsb2coZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSk7Il19
