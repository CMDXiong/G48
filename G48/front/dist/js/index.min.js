function UpdateData(){this.maskWrapper=jQuery(".mask-wrapper")}function QueryBtn(){this.queryBtn=jQuery("#btn-search")}UpdateData.prototype.listenShowHideEvent=function(){jQuery("#submit-local").click(function(e){e.preventDefault(),window.svn_config=!0,jQuery("#progress-group").hide(),jQuery("#not-found").hide();var r=jQuery("#project-name").val().trim();jQuery(".project-name").text(r);var u=new WebSocket("ws://10.240.113.164:9005/");try{u.onopen=function(e){var r=jQuery("#project-name").val().trim(),o=jQuery("#svn-host").val().trim(),t=jQuery("#git-username").val().trim(),n=jQuery("#git-password").val().trim(),s=jQuery("#svn-save").val().trim();if(""!==r&&""!==o&&""!==t&&""!==n&&""!=s){var a={type:"svnUpdate",name:r,host:o,username:t,password:n,localRoad:s},i=JSON.stringify(a);u.send(i),jQuery("#myModal").modal("hide"),jQuery("#modal_info").show()}else alert("必填项不能为空！")},u.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data).type;if("path_error"===r)return alert("保存路径不存在！"),void u.close();if("svn_config_success"===r)return alert("svn配置成功"),void u.close()}}}catch(e){log(e)}})},UpdateData.prototype.run=function(){this.listenShowHideEvent()},$(function(){(new UpdateData).run()}),QueryBtn.prototype.listenClickEnterEvent=function(){var r=this;r.queryBtn.click(function(){0!=window.svn_config?r.connectionEvent():alert("请先配置！！！")}),r.queryBtn.keypress(function(e){0!=window.svn_config?13==e.keyCode&&r.connectionEvent():alert("请先配置！！！")})},QueryBtn.prototype.connectionEvent=function(){jQuery("#update-progress-group").hide(),jQuery("#show_error_info").hide(),jQuery("#modal_info").hide();var s=new WebSocket("ws://10.240.113.164:9005/");jQuery("#progress-group").show();var a=jQuery("#progressbar");a.css({width:0}),a.text("0.0% Complete (success)");var e=jQuery("#show_excel");jQuery("#not-found").hide(),e.html("");try{s.onopen=function(e){var r=new Object;if(r.type="queryInfo",r.keyword=jQuery("#inputKeyword").val(),0!==r.keyword.length){console.log("not empyt"),r.queryMode=jQuery("#select-type").val(),r.tableType=jQuery("#table-type1").val(),r.selectScope=jQuery("#select-scope").val();var o=JSON.stringify(r);s.send(o)}else console.log("empty")},s.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data),o=r.type;if("not_found"===o&&(console.log("未找到相关检索，通信正常关闭"),s.close(),jQuery("#not-found").show()),"more_data"===o&&(console.log("more_data"),alert("关键字检索范围过大，请进一步细化关键字"),s.close()),"query_finish"===o&&(console.log("正常通信关闭"),s.close()),"progressbar"===o&&(console.log("progressbar"),a.text(r.value+"% Complete (success)"),a.width(r.value+"%")),"query_result"==o){console.log("查询结果");var t=r.datas,n=template("query-item",{datas:t});jQuery("#show_excel").append(n)}}}}catch(e){log(e)}},QueryBtn.prototype.run=function(){this.listenClickEnterEvent()},$(function(){window.svn_config=!1;var r=new QueryBtn;r.run(),jQuery("#inputKeyword").keypress(function(e){13==e.keyCode&&r.connectionEvent()}),jQuery("#reset-search").click(function(){jQuery(".form-horizontal")[0].reset()}),jQuery("#update").click(function(){if(0==window.svn_config)alert("请先配置！！！");else{var a=jQuery("#show_error_info");a.find("li").remove();var e=jQuery("#show_excel");jQuery("#not-found").hide(),jQuery("#progress-group").hide(),jQuery("#circle-progress-info").show(),e.html("");var i=new WebSocket("ws://10.240.113.164:9005/"),r=new Object;r.type="update_request";var o=JSON.stringify(r);try{i.onopen=function(){i.send(o)},i.onmessage=function(e){if("string"==typeof e.data){var r=JSON.parse(e.data),o=r.type;if("path_error"===o&&(alert("保存路径不存在！"),i.close()),"badFiles"===o&&(i.close(),console.log("show badFiles")),"update_files"===o){jQuery("#circle-progress-info").hide(),jQuery("#update-progress-group").show(),jQuery("#update-progress-group").show();var t=jQuery("#update-progressbar");if(t.width(r.finish_precent),t.text("已更新:"+r.finish_precent),r.bad_file_info.file_name){a.show();var n=r.bad_file_info.error_type,s=r.bad_file_info.file_name;switch(n){case"BadZipfile":jQuery("#BadZipFile").show(),jQuery("#show_BadZipFile_files").append("<li>"+s+"</li>");break;case"TypeError":jQuery("#TypeError").show(),jQuery("#show_TypeError_files").append("<li>"+s+"</li>");break;case"IOError":jQuery("#IOError").show(),jQuery("#show_IOError_files").append("<li>"+s+"</li>")}}}"load_data_finish"===o&&(jQuery("#update-progress-group").hide(),i.close(),alert("数据更新完成"))}}}catch(e){log(e)}}})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVwZGF0ZURhdGEiLCJ0aGlzIiwibWFza1dyYXBwZXIiLCJqUXVlcnkiLCJRdWVyeUJ0biIsInF1ZXJ5QnRuIiwicHJvdG90eXBlIiwibGlzdGVuU2hvd0hpZGVFdmVudCIsImNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0Iiwid2luZG93Iiwic3ZuX2NvbmZpZyIsImhpZGUiLCJwcmpOYW1lIiwidmFsIiwidHJpbSIsInRleHQiLCJzb2NrZXQiLCJXZWJTb2NrZXQiLCJvbm9wZW4iLCJtc2ciLCJzdm5Ib3N0IiwidXNlciIsInBhc3N3b3JkIiwibG9jYWxTYXZlUm9hZCIsImRhdGEiLCJ0eXBlIiwibmFtZSIsImhvc3QiLCJ1c2VybmFtZSIsImxvY2FsUm9hZCIsImpzb25RdWVyeUluZm8iLCJKU09OIiwic3RyaW5naWZ5Iiwic2VuZCIsIm1vZGFsIiwic2hvdyIsImFsZXJ0Iiwib25tZXNzYWdlIiwicGFyc2UiLCJjbG9zZSIsImxvZyIsInJ1biIsIiQiLCJsaXN0ZW5DbGlja0VudGVyRXZlbnQiLCJzZWxmIiwiY29ubmVjdGlvbkV2ZW50Iiwia2V5cHJlc3MiLCJrZXlDb2RlIiwicHJvZ3Jlc3MiLCJjc3MiLCJ3aWR0aCIsInNob3dfZXhjZWwiLCJodG1sIiwicXVlcnlJbmZvIiwiT2JqZWN0Iiwia2V5d29yZCIsImxlbmd0aCIsImNvbnNvbGUiLCJxdWVyeU1vZGUiLCJ0YWJsZVR5cGUiLCJzZWxlY3RTY29wZSIsImpzb25fb2JqIiwiZGF0YXMiLCJ0ZW1wbGF0ZSIsImFwcGVuZCIsInF1ZXJ5QnRuT2oiLCJyZXNldCIsInNob3dfZXJyb3JfaW5mbyIsImZpbmQiLCJyZW1vdmUiLCJ1cGRhdGVfaW5mbyIsImpzb25fdXBkYXRlX2luZm8iLCJ1cGRhdGVfcHJvZ3Jlc3NiYXIiLCJlcnJvcl9maWxlX3R5cGUiLCJmaWxlbmFtZSJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsYUFDTUMsS0FDTkMsWUFBY0MsT0FBTyxp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QyxPQUNuQmxDLE9BQU8sdUJBQXVCK0QsT0FBTyxPQUFRVSxFQUFXLFdBTzNELHFCQUFUakQsSUFFQXhCLE9BQU8sMEJBQTBCVSxPQUNqQ0ssRUFBT3VCLFFBQ1BILE1BQU0sYUFLdEIsTUFBTzdCLEdBQ0hpQyxJQUFJakMiLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXHJcbmZ1bmN0aW9uIFVwZGF0ZURhdGEoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLm1hc2tXcmFwcGVyID0galF1ZXJ5KCcubWFzay13cmFwcGVyJyk7XHJcbn1cclxuXHJcblVwZGF0ZURhdGEucHJvdG90eXBlLmxpc3RlblNob3dIaWRlRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBzdWJtaXRMb2NhbCA9ICBqUXVlcnkoJyNzdWJtaXQtbG9jYWwnKTtcclxuICAgIHN1Ym1pdExvY2FsLmNsaWNrKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHdpbmRvdy5zdm5fY29uZmlnID0gdHJ1ZTtcclxuICAgICAgICBqUXVlcnkoXCIjcHJvZ3Jlc3MtZ3JvdXBcIikuaGlkZSgpO1xyXG4gICAgICAgIGpRdWVyeShcIiNub3QtZm91bmRcIikuaGlkZSgpO1xyXG4gICAgICAgIHZhciBwcmpOYW1lID0galF1ZXJ5KFwiI3Byb2plY3QtbmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgalF1ZXJ5KFwiLnByb2plY3QtbmFtZVwiKS50ZXh0KHByak5hbWUpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIGhvc3QgPSBcIndzOi8vMTAuMjQwLjExMy4xNjQ6OTAwNS9cIjtcclxuICAgICAgICB2YXIgc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKG1zZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByak5hbWUgICAgICAgPSBqUXVlcnkoXCIjcHJvamVjdC1uYW1lXCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIHZhciBzdm5Ib3N0ICAgICAgID0galF1ZXJ5KFwiI3N2bi1ob3N0XCIpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICAgICAgICAgIHZhciB1c2VyICAgICAgICAgID0galF1ZXJ5KFwiI2dpdC11c2VybmFtZVwiKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGFzc3dvcmQgICAgICA9IGpRdWVyeShcIiNnaXQtcGFzc3dvcmRcIikudmFsKCkudHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvY2FsU2F2ZVJvYWQgPSBqUXVlcnkoXCIjc3ZuLXNhdmVcIikudmFsKCkudHJpbSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgocHJqTmFtZSA9PT0gXCJcIikgfHwgKHN2bkhvc3QgPT09IFwiXCIpIHx8ICh1c2VyID09PSBcIlwiKSB8fCAocGFzc3dvcmQgPT09IFwiXCIpIHx8IChsb2NhbFNhdmVSb2FkID09IFwiXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+W/heWhq+mhueS4jeiDveS4uuepuu+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3ZuVXBkYXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogcHJqTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBob3N0OiBzdm5Ib3N0LFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFJvYWQ6IGxvY2FsU2F2ZVJvYWRcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGpzb25RdWVyeUluZm8gPSAgSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChqc29uUXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgICAgIGpRdWVyeShcIiNteU1vZGFsXCIpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICBqUXVlcnkoXCIjbW9kYWxfaW5mb1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zZy5kYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIganNvbl9vYmogPSBKU09OLnBhcnNlKG1zZy5kYXRhKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IGpzb25fb2JqW1widHlwZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICBpZih0eXBlID09PSBcInBhdGhfZXJyb3JcIikgICAgICAgICAgICAgICAvLyDloavlhpnnmoTot6/lvoTkuI3mraPnoa7nmoTmj5DnpLpcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KCfkv53lrZjot6/lvoTkuI3lrZjlnKjvvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGUgPT09IFwic3ZuX2NvbmZpZ19zdWNjZXNzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnc3Zu6YWN572u5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBsb2coZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG5VcGRhdGVEYXRhLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblNob3dIaWRlRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBVcGRhdGVEYXRhKCk7XHJcbiAgICB1cGRhdGUucnVuKCk7XHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gUXVlcnlCdG4oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLnF1ZXJ5QnRuID0galF1ZXJ5KFwiI2J0bi1zZWFyY2hcIik7XHJcbn1cclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5saXN0ZW5DbGlja0VudGVyRXZlbnQgPSBmdW5jdGlvbiAoKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYucXVlcnlCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh3aW5kb3cuc3ZuX2NvbmZpZyA9PSBmYWxzZSApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBhbGVydChcIuivt+WFiOmFjee9ru+8ge+8ge+8gVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmNvbm5lY3Rpb25FdmVudCgpO1xyXG4gICAgfSk7XHJcbiAgICBzZWxmLnF1ZXJ5QnRuLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zdm5fY29uZmlnID09IGZhbHNlIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwi6K+35YWI6YWN572u77yB77yB77yBXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpXHJcbiAgICAgICAgICAgIHNlbGYuY29ubmVjdGlvbkV2ZW50KCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5jb25uZWN0aW9uRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBqUXVlcnkoXCIjdXBkYXRlLXByb2dyZXNzLWdyb3VwXCIpLmhpZGUoKTtcclxuICAgIGpRdWVyeShcIiNzaG93X2Vycm9yX2luZm9cIikuaGlkZSgpO1xyXG4gICAgalF1ZXJ5KFwiI21vZGFsX2luZm9cIikuaGlkZSgpO1xyXG5cclxuICAgIHZhciBob3N0ID0gXCJ3czovLzEwLjI0MC4xMTMuMTY0OjkwMDUvXCI7XHJcbiAgICB2YXIgc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgIGpRdWVyeShcIiNwcm9ncmVzcy1ncm91cFwiKS5zaG93KCk7XHJcbiAgICB2YXIgcHJvZ3Jlc3MgPSBqUXVlcnkoXCIjcHJvZ3Jlc3NiYXJcIilcclxuICAgIHByb2dyZXNzLmNzcyh7XCJ3aWR0aFwiOiAwfSk7XHJcbiAgICBwcm9ncmVzcy50ZXh0KCcwLjAlIENvbXBsZXRlIChzdWNjZXNzKScpO1xyXG4gICAgdmFyIHNob3dfZXhjZWwgPSBqUXVlcnkoXCIjc2hvd19leGNlbFwiKTtcclxuICAgIGpRdWVyeShcIiNub3QtZm91bmRcIikuaGlkZSgpO1xyXG4gICAgc2hvd19leGNlbC5odG1sKFwiXCIpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKG1zZyl7XHJcbiAgICAgICAgICAgIHZhciBxdWVyeUluZm8gPSBuZXcgT2JqZWN0KCk7XHJcbiAgICAgICAgICAgIHF1ZXJ5SW5mby50eXBlID0gXCJxdWVyeUluZm9cIjtcclxuICAgICAgICAgICAgcXVlcnlJbmZvLmtleXdvcmQgPSBqUXVlcnkoXCIjaW5wdXRLZXl3b3JkXCIpLnZhbCgpO1xyXG4gICAgICAgICAgICBpZihxdWVyeUluZm8ua2V5d29yZC5sZW5ndGggIT09IDApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IGVtcHl0XCIpO1xyXG4gICAgICAgICAgICAgICAgcXVlcnlJbmZvLnF1ZXJ5TW9kZSA9IGpRdWVyeShcIiNzZWxlY3QtdHlwZVwiKS52YWwoKTtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5SW5mby50YWJsZVR5cGUgPSBqUXVlcnkoXCIjdGFibGUtdHlwZTFcIikudmFsKCk7XHJcbiAgICAgICAgICAgICAgICBxdWVyeUluZm8uc2VsZWN0U2NvcGUgPSBqUXVlcnkoXCIjc2VsZWN0LXNjb3BlXCIpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBqc29uUXVlcnlJbmZvID0gIEpTT04uc3RyaW5naWZ5KHF1ZXJ5SW5mbyk7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQuc2VuZChqc29uUXVlcnlJbmZvKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImVtcHR5XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAobXNnKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbXNnLmRhdGEgPT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICAgICAgLy8g5pi+56S65p+l6K+i57uT5p6c5Luj56CBXHJcbiAgICAgICAgICAgICAgICB2YXIganNvbl9vYmogPSBKU09OLnBhcnNlKG1zZy5kYXRhKTsgICAvLyDlj43luo/liJfljJZcclxuICAgICAgICAgICAgICAgIHZhciB0eXBlID0ganNvbl9vYmpbXCJ0eXBlXCJdOyAgICAgICAgICAgLy8g5Lyg6YCS6L+H5p2l55qE5pWw5o2u5Lit5LiA5a6a5Lya5pyJdHlwZeWFs+mUruWtl++8jOagueaNrnR5cGXmnaXlgZrnm7jlupTnmoTmk43kvZxcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJub3RfZm91bmRcIikgICAgICAgICAgLy8g5pyq5om+5Yiw55u45YWz5qOA57Si55qE5o+Q56S6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmnKrmib7liLDnm7jlhbPmo4DntKLvvIzpgJrkv6HmraPluLjlhbPpl61cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gIFwibW9yZV9kYXRhXCIpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJtb3JlX2RhdGFcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLlhbPplK7lrZfmo4DntKLojIPlm7Tov4flpKfvvIzor7fov5vkuIDmraXnu4bljJblhbPplK7lrZdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJxdWVyeV9maW5pc2hcIikgICAgICAgLy8g6YCa5L+h5a6M5oiQXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmraPluLjpgJrkv6HlhbPpl61cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gXCJwcm9ncmVzc2JhclwiKSAgICAgICAgLy8g6L+b5bqm5p2h55qE5Yqo5oCB5pi+56S6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJwcm9ncmVzc2JhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy50ZXh0KGpzb25fb2JqW1widmFsdWVcIl0gKyAnJSBDb21wbGV0ZSAoc3VjY2VzcyknKTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9ncmVzcy53aWR0aChqc29uX29ialtcInZhbHVlXCJdICsgJyUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBcInF1ZXJ5X3Jlc3VsdFwiKSAgICAgICAvLyDmmL7npLrmn6Xor6LnmoTnu5PmnpxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuafpeivoue7k+aenFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YXMgPSBqc29uX29ialtcImRhdGFzXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBodG1sID0gdGVtcGxhdGUoJ3F1ZXJ5LWl0ZW0nLHtcImRhdGFzXCI6IGRhdGFzfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dfZXhjZWwgPSBqUXVlcnkoXCIjc2hvd19leGNlbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzaG93X2V4Y2VsLmFwcGVuZChodG1sKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzb2NrZXQub25jbG9zZSA9IGZ1bmN0aW9uIChtc2cpIHsgYWxlcnQoXCJzb2NrZXQgY2xvc2VkIVwiKSB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZyhlKTtcclxuICAgIH1cclxufTtcclxuXHJcblF1ZXJ5QnRuLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHNlbGYubGlzdGVuQ2xpY2tFbnRlckV2ZW50KCk7XHJcbn07XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHdpbmRvdy5zdm5fY29uZmlnID0gZmFsc2U7XHJcbiAgICAvLyB3aW5kb3cuc3ZuX2NvbmZpZyA9IHRydWU7XHJcbiAgICB2YXIgcXVlcnlCdG5PaiA9IG5ldyBRdWVyeUJ0bigpO1xyXG4gICAgcXVlcnlCdG5Pai5ydW4oKTtcclxuICAgIHZhciBpbnB1dEtleXdvcmQgPSBqUXVlcnkoXCIjaW5wdXRLZXl3b3JkXCIpO1xyXG4gICAgaW5wdXRLZXl3b3JkLmtleXByZXNzKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMylcclxuICAgICAgICAgICAgcXVlcnlCdG5Pai5jb25uZWN0aW9uRXZlbnQoKTtcclxuICAgIH0pO1xyXG4gICAgalF1ZXJ5KFwiI3Jlc2V0LXNlYXJjaFwiKS5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgalF1ZXJ5KFwiLmZvcm0taG9yaXpvbnRhbFwiKVswXS5yZXNldCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgalF1ZXJ5KFwiI3VwZGF0ZVwiKS5jbGljayhmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICAgLy8g54K55Ye754Ot5pu05pawXHJcbiAgICAgICAgaWYgKHdpbmRvdy5zdm5fY29uZmlnID09IGZhbHNlIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwi6K+35YWI6YWN572u77yB77yB77yBXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB2YXIgc2hvd19lcnJvcl9pbmZvID0galF1ZXJ5KFwiI3Nob3dfZXJyb3JfaW5mb1wiKTtcclxuICAgICAgICAgICAgc2hvd19lcnJvcl9pbmZvLmZpbmQoXCJsaVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIHNob3dfZXhjZWwgPSBqUXVlcnkoXCIjc2hvd19leGNlbFwiKTtcclxuICAgICAgICAgICAgalF1ZXJ5KFwiI25vdC1mb3VuZFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGpRdWVyeShcIiNwcm9ncmVzcy1ncm91cFwiKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGpRdWVyeShcIiNjaXJjbGUtcHJvZ3Jlc3MtaW5mb1wiKS5zaG93KCk7XHJcbiAgICAgICAgICAgIHNob3dfZXhjZWwuaHRtbChcIlwiKTtcclxuXHJcblxyXG4gICAgICAgICAgICB2YXIgaG9zdCA9IFwid3M6Ly8xMC4yNDAuMTEzLjE2NDo5MDA1L1wiO1xyXG4gICAgICAgICAgICB2YXIgc29ja2V0ID0gbmV3IFdlYlNvY2tldChob3N0KTtcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZV9pbmZvID0gbmV3IE9iamVjdCgpO1xyXG4gICAgICAgICAgICB1cGRhdGVfaW5mby50eXBlID0gXCJ1cGRhdGVfcmVxdWVzdFwiO1xyXG4gICAgICAgICAgICB2YXIganNvbl91cGRhdGVfaW5mbyA9ICBKU09OLnN0cmluZ2lmeSh1cGRhdGVfaW5mbyk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBzb2NrZXQub25vcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5zZW5kKGpzb25fdXBkYXRlX2luZm8pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc29ja2V0Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChtc2cpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1zZy5kYXRhID09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpzb25fb2JqID0gSlNPTi5wYXJzZShtc2cuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0ganNvbl9vYmpbXCJ0eXBlXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlID09PSBcInBhdGhfZXJyb3JcIikgICAgICAgICAgICAgICAvLyDloavlhpnnmoTot6/lvoTkuI3mraPnoa7nmoTmj5DnpLpcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoJ+S/neWtmOi3r+W+hOS4jeWtmOWcqO+8gScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiYmFkRmlsZXNcIikgICAgICAgICAgICAgICAgIC8v6L295YWl5pWw5o2u56Kw5Yiw5Z2P5paH5Lu255qE5o+Q56S6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzaG93IGJhZEZpbGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gXCJ1cGRhdGVfZmlsZXNcIikgICAgICAgICAgICAgIC8vIOabtOaWsOi/m+W6puadoeeahOaYvuekulxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjY2lyY2xlLXByb2dyZXNzLWluZm9cIikuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI3VwZGF0ZS1wcm9ncmVzcy1ncm91cFwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlX3Byb2dyZXNzX2dyb3VwID0galF1ZXJ5KFwiI3VwZGF0ZS1wcm9ncmVzcy1ncm91cFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9wcm9ncmVzc19ncm91cC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlX3Byb2dyZXNzYmFyID0galF1ZXJ5KFwiI3VwZGF0ZS1wcm9ncmVzc2JhclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9wcm9ncmVzc2Jhci53aWR0aChqc29uX29ialtcImZpbmlzaF9wcmVjZW50XCJdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZV9wcm9ncmVzc2Jhci50ZXh0KFwi5bey5pu05pawOlwiICsganNvbl9vYmpbXCJmaW5pc2hfcHJlY2VudFwiXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGpzb25fb2JqW1wiYmFkX2ZpbGVfaW5mb1wiXVtcImZpbGVfbmFtZVwiXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93X2Vycm9yX2luZm8uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvcl9maWxlX3R5cGUgPSBqc29uX29ialtcImJhZF9maWxlX2luZm9cIl1bXCJlcnJvcl90eXBlXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZSA9IGpzb25fb2JqW1wiYmFkX2ZpbGVfaW5mb1wiXVtcImZpbGVfbmFtZVwiXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGVycm9yX2ZpbGVfdHlwZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJCYWRaaXBmaWxlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjQmFkWmlwRmlsZVwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjc2hvd19CYWRaaXBGaWxlX2ZpbGVzXCIpLmFwcGVuZChcIjxsaT5cIisgZmlsZW5hbWUgKyBcIjwvbGk+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJUeXBlRXJyb3JcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeShcIiNUeXBlRXJyb3JcIikuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KFwiI3Nob3dfVHlwZUVycm9yX2ZpbGVzXCIpLmFwcGVuZChcIjxsaT5cIisgZmlsZW5hbWUgKyBcIjwvbGk+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJJT0Vycm9yXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjSU9FcnJvclwiKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjc2hvd19JT0Vycm9yX2ZpbGVzXCIpLmFwcGVuZChcIjxsaT5cIisgZmlsZW5hbWUgKyBcIjwvbGk+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwibG9hZF9kYXRhX2ZpbmlzaFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoXCIjdXBkYXRlLXByb2dyZXNzLWdyb3VwXCIpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLmlbDmja7mm7TmlrDlrozmiJBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGxvZyhlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KTsiXX0=
